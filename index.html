<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <title>Dashboard</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta content="Dashboard" name="description" />
    <meta content="Themesbrand" name="author" />
    <meta name="keywords" content="Dashboard, clientes, pedidos, potogas">
    <!-- App favicon -->
    <link rel="shortcut icon" href="assets/images/favicon.ico">

    <!-- Select 2 -->
    <link href="https://themesbrand.com/skote/layouts/assets/libs/select2/css/select2.min.css" rel="stylesheet" type="text/css" />

    <!-- Datepicker -->
    <link href="https://themesbrand.com/skote/layouts/assets/libs/bootstrap-datepicker/css/bootstrap-datepicker.min.css" rel="stylesheet" type="text/css">
    <link href="https://themesbrand.com/skote/layouts/assets/libs/@chenfengyuan/datepicker/datepicker.min.css" rel="stylesheet">

    <!-- Timepicker -->
    <link href="https://themesbrand.com/skote/layouts/assets/libs/bootstrap-timepicker/css/bootstrap-timepicker.min.css" rel="stylesheet" type="text/css">

    <!-- DataTables -->
    <link href="https://themesbrand.com/skote/layouts/assets/libs/datatables.net-bs4/css/dataTables.bootstrap4.min.css" rel="stylesheet" type="text/css" />
    <!-- <link href="./assets/libs/datatables.net-buttons-bs4/css/buttons.bootstrap4.min.css" rel="stylesheet" type="text/css" />
    <link href="./assets/libs/datatables.net-responsive-bs4/css/responsive.bootstrap4.min.css" rel="stylesheet" type="text/css" />    -->

    <!-- <link rel="stylesheet" href="./assets/libs/@chenfengyuan/datepicker/datepicker.min.css"> -->

    <!-- Bootstrap Css -->
    <link href="https://themesbrand.com/skote/layouts/assets/css/bootstrap.min.css" id="bootstrap-style" rel="stylesheet" type="text/css" />
    <!-- Icons Css -->
    <!-- <link href="https://themesbrand.com/skote/layouts/assets/css/icons.min.css" rel="stylesheet" type="text/css" /> -->
    <!-- App Css-->
    <link href="https://themesbrand.com/skote/layouts/assets/css/app.min.css" id="app-style" rel="stylesheet" type="text/css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" integrity="sha512-9usAa10IRO0HhonpyAIVpjrylPvoDwiPUiKdWk5t3PyolY1cOd4DSE0Ga+ri4AuTroPR5aQvXU9xC6qOPnzFeg==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <style>
        html, body{
            font-family: "Roboto", "Helvetica Neue", sans-serif !important;
        }
        .pl-0 {
            padding-left: 0;
        }
        .pr-0 {
            padding-right: 0;
        }
        .btn-flat {
            border-radius: 0;
        }
        .btn-header {
            width: 51px;
            height: 56px;
        }
        .bg-primary-cc {
            background-color: #355da7;
            color: #ffffff;
        }
        button.bg-primary-cc:hover {
            background-color: #456aae;
            color: #ffffff;
        }
        .bg-secondary-cc {
            background-color: #e7792b;
            color: #ffffff;
        }
        button.bg-secondary-cc:hover {
            background-color: #e98640;
            color: #ffffff;
        }
        .bg-success-cc {
            background-color: #2dd36f;
            color: #ffffff;
        }
        button.bg-success-cc:hover {
            background-color: #42d77d;
            color: #ffffff;
        }
        .bg-warning-cc {
            background-color: #ffc409;
            color: #ffffff;
        }
        button.bg-warning-cc:hover {
            background-color: #ffca22;
            color: #ffffff;
        }
        .bg-danger-cc {
            background-color: #eb445a;
            color: #ffffff;
        }
        button.bg-danger-cc:hover {
            background-color: #ed576b;
            color: #ffffff;
        }
        .header-title {
            font-size: 28px;
        }
        .ft-12 {
            font-size: 12px;
        }
        .ft-16 {
            font-size: 16px;
        }
        .bg-white {
            background-color: #ffffff;
        }

        .chip {
            display: inline-block;
            padding: 0 25px;
            height: 30px;
            font-size: 16px;
            line-height: 30px;
            border-radius: 25px;
            opacity: 0.8;
            cursor: pointer;
        }
        .chip.bg-primary-cc {
            background-color: rgba(231,121,43, 0.08)
        }

        .chip img {
            float: left;
            margin: 0 10px 0 -25px;
            height: 25px;
            width: 25px;
            margin-top: 2.5px;
            border-radius: 50%;
        }

        .w-100 {
            width: 100%;
        }

        .h-100 {
            height: calc(100vh - 56px);
        }

        .form-ptg {
            font-size: 16px;
            border: solid 2px #9d9b99;
            border-radius: 9px;
            padding-left: 9px;
            color: #737373;
            padding-right: 9px;
            padding-top: 0;
            padding-bottom: 0;
            width: 100%;
            padding-top: 9px;
            padding-bottom: 9px;
        }
        .form-ptg-primary {
            border: solid 2px #355da7;
            color: #355da7;
        }
        .content-input-primary .form-ptg-primary[type="date"]::-webkit-calendar-picker-indicator {
            background: url(https://5298967-sb1.app.netsuite.com/core/media/media.nl?id=47999&c=5298967_SB1&h=ap_ChgXBZcGtXt-0cCUgtiAdcQ0GwlDOUwRUbTSXJOVGLBvm) center/80% no-repeat;
            cursor: pointer;
        }

        .content-input-primary .form-ptg-primary[type="time"]::-webkit-calendar-picker-indicator {
            background: url(https://5298967-sb1.app.netsuite.com/core/media/media.nl?id=47998&c=5298967_SB1&h=dTMS58AOq5BNJEv4o7eqLopFTUHTH_RE_0AeE6ronFdNxfIX) center/80% no-repeat;
            cursor: pointer;
        }
        .form-search {
            width: 100%;
            position: relative;
        }
        .form-search .form-ptg {
            padding-left: 45px;
            padding-right: 45px;
        }
        .form-search .fa-magnifying-glass {
            position: absolute;
            left: 15px;
            top: 0;
            bottom: 0;
            margin: auto;
            height: 20px;
            font-size: 20px;
            cursor: text;
        }
        .form-search .fa-xmark {
            position: absolute;
            right: 15px;
            top: 0;
            bottom: 0;
            margin: auto;
            height: 20px;
            font-size: 20px;
            cursor: pointer;
        }
        label {
            margin: 0;
        }
        .fw-bold {
            font-weight: bold;
        }
        .content-tabs {
            background-color: rgb(225, 225, 225);;
        }
        .content-tabs .tab {
            padding: 7px 20px;
            margin: 0px 0;
            cursor: pointer;
        }

        .tab.active {
            background: #ffffff;
            border-radius: 10px 0;
            color: #355da7;
        }
        .modal-header .modal-title{
            color: #ffffff;
        }

        .content-input-primary label {
            color: #355da7;
            margin-bottom: 5px;
            font-size: 16px;
        }
        .color-primary {
            color: #355da7;
        }
        
        .ft-18 {
            font-size: 18px;
        }
        .invisible {
            visibility: hidden;
        }
        .ft-24 {
            font-size: 24px;
        }
        .table-gen {
            min-width: 100%;
        }

        .table-gen .sticky-col {
        position: -webkit-sticky;
        position: sticky;
        left: 0px;
        }

        .table-gen thead tr th {
            position: sticky;
            top: 0;
        }

        .table-gen thead tr th, .table-gen tbody tr td {
            padding-top: 10px;
            padding-bottom: 10px;
        }

        .table-gen-blue thead tr th {
            background: #355da7;
            color: #ffffff;
        }

        .table-gen-blue tbody tr:nth-of-type(odd) td {
            background-color: #ffffff;
        }

        .table-gen-blue tbody tr:nth-of-type(even) td {
            background-color: rgb(225, 225, 225);
        }

        .ion-text-center {
            text-align: center;
        }
        
        .btn-expand {
            width: 60px;
            height: 60px;
            position: absolute;
            right: -30px;
            top: 0;
            bottom: 0;
            margin: auto;
        }

        .btn-expand-down {
            width: 60px;
            height: 60px;
            position: absolute;
            bottom: -30px;
            left: 0;
            right: 0;
            margin: auto;
        }

        .btn-expand .btn, .btn-expand-down .btn{
            width: 100%;
            height: 100%;
            background: #e7792b;
            border-radius: 100px;
            cursor: pointer;
            box-shadow: 5px 2px 20px 6px rgb(0 0 0);
            position: relative;
        }

        .btn-expand-down .btn{ 
            z-index: 2;
            position: relative;
        }

        .btn-expand .btn:hover, .btn-expand-down .btn:hover{
            background: #e98640;
        }

        .btn-expand .btn i {
            position: absolute;
            left: 0;
            right: 15px;
            bottom: 0;
            top: 0;
            margin: auto;
            height: 22px;
            font-size: 22px;
            color: #ffffff;
        }

        .btn-expand-down .btn i {
            position: absolute;
            left: 0;
            top: 5px;
            right: 0;
            left: 0;
            margin: auto;
            font-size: 22px;
            color: #ffffff;
        }

        /* no global ccs */
        #clientes-data {
            background-color: rgb(225, 225, 225);
            height: 393px;
            overflow: auto;
        }
        #historic-data {
            overflow: auto;
            height: calc(100vh - 449px);
        }
        #content-forms {
            overflow: hidden;
        }
        .tabs-content {
            height: calc(100vh - 89px);
            overflow: auto;
        }
        #content-forms.no-expand .tabs-content{
            height: calc(100vh - 324px);
        }
        #content-avisos {
            height: calc(100vh - (100vh - 290px) - 56px);
        }
    </style>
</head>

<body data-topbar="dark" data-spy="scroll" data-offset="175" style="overflow: hidden;">
    <header class="bg-primary-cc">
        <div class="row align-items-center w-100">
            <div class="col-auto pr-0">
                <button type="button" class="btn bg-primary-cc btn-flat btn-header"><i class="fa-solid fa-bars"></i></button>
            </div>
            <div class="col-auto p-0">
                <img src="https://5298967-sb1.app.netsuite.com/core/media/media.nl?id=47997&c=5298967_SB1&h=XCM9Qw8SSpqCq4FqTkuyuCCRBX28-Dd5A_4ngS6j8NK6r23B" alt="" height="56">
            </div>
            <div class="col header-title">
                Call Center
            </div>
            <div class="col-auto p-0">
                <div class="row align-items-center">
                    <div class="col-auto pr-0 ft-16" id="today">
                    </div>
                    <div class="col-auto pr-0 ft-16">
                        <strong>ROL: </strong><span id="role">Prueba</span>
                    </div>
                    <div class="col-auto pr-0 ft-16">
                        <strong>PLANTA: </strong>
                    </div>
                    <div class="col-auto pr-0 ft-16">
                        <select id="plantas" type="date" style="
                            width: 190px; 
                            height: 30px; 
                            background: #ffffff; 
                            border-width: 1px; 
                            border-color: #808080; 
                            color: #000;">
                            <option value="p1">PLANTA CARDENAS</option>
                            <option value="p2">PLANTA CEDRAL</option>
                        </select>
                    </div>
                    <div class="col-auto">
                        <div class="chip bg-primary-cc">
                            <img src="https://5298967-sb1.app.netsuite.com/core/media/media.nl?id=47996&c=5298967_SB1&h=w9FU3tphwpeGh2U7tj_dTBfRy_QKLEEecSPE2ID7uFJinYd8"> Alexis Chiw
                          </div>
                    </div>
                </div>
                
            </div>
        </div>
    </header>
    <div id="formProductosModal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="titleProductoModal" aria-hidden="true">
        <div class="modal-dialog modal-lg modal-dialog-centered" role="document" style="width: 400px;">
            <div class="modal-content " style="border: 0" >
                <div class="modal-header bg-primary-cc">
                    <h5 class="modal-title" id="titleProductoModal">Agregar producto</h5>
                </div>
                <div class="modal-body">
                    <div class="row pb-2">
                        <div class="col-6">
                            <div class="content-input content-input-primary">
                                <label>Producto</label>
                                <select id="productoFormProductos" class="form-ptg form-ptg-primary">
                                    <option value="cilindro">Cilindro</option>
                                    <option value="estacionario">Estacionario</option>
                                </select>
                            </div>
                        </div>
                        <div class="col-6 cilindroFormProductos">
                            <div class="content-input content-input-primary">
                                <label>Envase</label>
                                <input id="envaseFormProductos" type="checkbox" class="form-ptg form-ptg-primary">
                            </div>
                        </div>
                    </div>
                    <div class="row pb-2 cilindroFormProductos">
                        <div class="col-6">
                            <div class="content-input content-input-primary">
                                <label>Capacidad</label>
                                <select id="capacidadFormProductos" class="form-ptg form-ptg-primary">
                                </select>
                            </div>
                        </div>
                        <div class="col-6">
                            <div class="content-input content-input-primary">
                                <label>Cantidad</label>
                                <input id="cantidadFormProductos" type="number" class="form-ptg form-ptg-primary">
                            </div>
                        </div>
                    </div>
                    <div class="row pb-2 estacionarioFormProductos d-none">
                        <div class="col-6">
                            <div class="content-input content-input-primary">
                                <label>Litros</label>
                                <input id="litrosFormProductos" type="number" class="form-ptg form-ptg-primary">
                            </div>
                        </div>
                        <div class="col-6">
                            <div class="content-input content-input-primary">
                                <label>Monto</label>
                                <input id="montoFormProductos" type="number" class="form-ptg form-ptg-primary">
                            </div>
                        </div>
                    </div>
                    <div class="row pb-2">
                        <div class="col-6">
                            <div class="content-input content-input-primary">
                                <label>Valor</label>
                                <input id="valorFormProductos" type="number" readonly class="form-ptg form-ptg-primary">
                            </div>
                        </div>
                        <div class="col-6">
                            <div class="content-input content-input-primary">
                                <label>Total</label>
                                <input id="totalFormProductos" type="number" readonly class="form-ptg form-ptg-primary">
                            </div>
                        </div>
                    </div>
                </div>            
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal" aria-label="Close">Cancelar</button>
                    <button id="guardarProductosForm" type="button" class="btn btn-primary">Guardar</button>
                </div>
            </div>
        </div>
    </div>

    <div id="formNotasAdicionalesModal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="titleNotasAdicionalesModal" aria-hidden="true">
        <div class="modal-dialog modal-lg modal-dialog-centered" role="document" style="width: 300px;">
            <div class="modal-content " style="border: 0" >
                <div class="modal-header bg-primary-cc">
                    <h5 class="modal-title" id="titleNotasAdicionalesModal">Agregar nota</h5>
                </div>
                <div class="modal-body">
                    <textarea id="notaAdicional" rows="3" placeholder="Nota..." class="form-ptg form-ptg-primary"></textarea>
                </div>            
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal" aria-label="Close">Cancelar</button>
                    <button id="guardarNotaAdicional" type="button" class="btn btn-primary">Guardar</button>
                </div>
            </div>
        </div>
    </div>

    <div id="formDireccionesModal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="titleNotasAdicionalesModal" aria-hidden="true">
        <div class="modal-dialog modal-lg modal-dialog-centered" role="document" style="width: 800px;">
            <div class="modal-content " style="border: 0" >
                <div class="modal-header bg-primary-cc">
                    <h5 class="modal-title" id="titleNotasAdicionalesModal">Dirección</h5>
                </div>
                <div class="modal-body">
                    <div class="row pb-2">
                        <div class="col-6">
                            <div class="content-input content-input-primary">
                                <label>Estado*</label>
                                <select id="estadoDireccion" class="form-ptg form-ptg-primary">
                                </select>
                            </div>
                        </div>
                        <div class="col-6">
                            <div class="content-input content-input-primary">
                                <label>Municipio*</label>
                                <select id="municipioDireccion" class="form-ptg form-ptg-primary">
                                </select>
                            </div>
                        </div>
                    </div>
                    <div class="row pb-2">
                        <div class="col-6">
                            <div class="content-input content-input-primary">
                                <label>Colonia*</label>
                                <select id="coloniaDireccion" class="form-ptg form-ptg-primary">
                                </select>
                            </div>
                        </div>
                        <div class="col-2">
                            <div class="content-input content-input-primary">
                                <label>C.P.*</label>
                                <input class="form-ptg form-ptg-primary" id="cpDireccion" readonly>
                            </div>
                        </div>
                    </div>
                    <div class="row pb-2">
                        <div class="col-6">
                            <div class="content-input content-input-primary">
                                <label>Calle*</label>
                                <input class="form-ptg form-ptg-primary" id="calleDireccion">
                            </div>
                        </div>
                        <div class="col-3">
                            <div class="content-input content-input-primary">
                                <label>Número exterior*</label>
                                <input class="form-ptg form-ptg-primary" id="exteriorDireccion">
                            </div>
                        </div>
                        <div class="col-3">
                            <div class="content-input content-input-primary">
                                <label>Número interior</label>
                                <input class="form-ptg form-ptg-primary" id="interiorDireccion">
                            </div>
                        </div>
                    </div>
                    <div class="row pb-2">
                        <div class="col-4">
                            <div class="content-input content-input-primary">
                                <label>Entre calles 1</label>
                                <input class="form-ptg form-ptg-primary" id="entre1Direccion">
                            </div>
                        </div>
                        <div class="col-4">
                            <div class="content-input content-input-primary">
                                <label>Entre calle 2</label>
                                <input class="form-ptg form-ptg-primary" id="entre2Direccion">
                            </div>
                        </div>
                        <div class="col-4">
                            <div class="content-input content-input-primary">
                                <label>Zona de venta*</label>
                                <input class="form-ptg form-ptg-primary" id="zonaVentaDireccion">
                            </div>
                        </div>
                    </div>
                    <div class="row pb-2">
                        <div class="col-12">
                            <div class="content-input content-input-primary">
                                <label>Ruta*</label>
                                <input class="form-ptg form-ptg-primary" id="rutaDireccion">
                            </div>
                        </div>
                    </div>
                </div>            
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal" aria-label="Close">Cancelar</button>
                    <button id="guardarNotaAdicional" type="button" class="btn btn-primary">Guardar</button>
                </div>
            </div>
        </div>
    </div>

    <div class="row w-100 m-0">
        <div class="col-6 h-100 p-0" style="overflow: hidden; position: relative;">
            <div class="btn-expand" style="z-index: 2;">
                <div class="p-rel btn">
                    <i class="fa-solid fa-caret-right"></i>
                </div>
            </div>
            <div id="clientes-data" class="p-3">
                <div class="row align-items-center pb-2">
                    <div class="col pr-0">
                        <div class="form-search">
                            <i class="fa-solid fa-magnifying-glass"></i>
                            <input id="buscarCliente" type="text" class="form-ptg" placeholder="Teléfono, nombre(s), correo electrónico o colonia">
                            <i class="fa-solid fa-xmark d-none"></i>
                        </div>
                    </div>
                    <div class="col-auto pr-0">
                        <button id="agregarCliente" type="button" class="btn bg-secondary-cc"><i class="fa-solid fa-user-plus"></i> Agregar</button>
                    </div>
                    <div class="col-auto">
                        <button id="editarCliente" type="button" class="btn bg-secondary-cc"><i class="fa-solid fa-user-pen"></i> Editar</button>
                    </div>
                </div>
                <div class="row align-items-center pb-2">
                    <div class="col p-0">
                    </div>
                    <div class="col-auto pl-0 badgesClientes" id="badgeContrato">
                        <span class="badge bg-danger-cc ft-12">Contrato</span>
                    </div>
                    <div class="col-auto pl-0 badgesClientes" id="badgeActivo">
                        <span class="badge bg-success-cc ft-12">Activo</span>
                    </div>
                    <div class="col-auto pl-0 badgesClientes" id="badgeInactivo">
                        <span class="badge bg-danger-cc ft-12">Inactivo</span>
                    </div>
                    <div class="col-auto pl-0 badgesClientes" id="badgePendientes">
                        <span class="badge bg-danger-cc ft-12">Tienen pedido(s) pendiente(s)</span>
                    </div>
                    <div class="col-auto pl-0 badgesClientes" id="badgeSuspendido">
                        <span class="badge bg-warning-cc ft-12">No suspendido</span>
                    </div>
                </div>
                <div class="row align-items-center ft-16 pb-2">
                    <div class="col-2">
                      <label>Id: <span class="fw-bold" id="idCliente">42254</label>
                    </div>
          
                    <div class="col-2">
                      <label>Nombre:</label>
                    </div>
                    <div class="col">
                      <label class="fw-bold" id="nombreCliente">Alexis Chiw</label>
                    </div>
          
                    <div class="col-2">
                      <label>Teléfono:</label>
                    </div>
                    <div class="col">
                      <label class="fw-bold" id="telefonoCliente">6695333469</label>
                    </div>
                </div>
                <div class="row align-items-center ft-16 pb-2">
                    <div class="col-2">
                      <label>Dirección:</label>
                    </div>

                    <div class="col pr-0">
                      <select id="direccionCliente" class="form-ptg">
                          <option>Ejemplo de dirección</option>
                      </select>
                    </div>
          
                    <div class="col-auto pr-0">
                        <button id="agregarDireccion" type="button" class="btn bg-secondary-cc"><i class="fa-solid fa-plus"></i></button>
                    </div>
                    <div class="col-auto">
                        <button id="editarDireccion" type="button" class="btn bg-secondary-cc"><i class="fa-solid fa-pen-to-square"></i></button>
                    </div>
                </div>
                <div class="row align-items-center ft-16 pb-2">
                    <div class="col-2">
                      <label>Giro:</label>
                    </div>
                    <div class="col-4">
                      <label class="fw-bold" id="giroCliente">Sin giro</label>
                    </div>
                    <div class="col-2">
                      <label>Contrato:</label>
                    </div>
                    <div class="col-4">
                      <label class="fw-bold" id="contratoCliente">Pendiente de validar</label>
                    </div>
                </div>
                <div class="row align-items-center ft-16 pb-2">
                    <div class="col-2">
                      <label>Zona de venta:</label>
                    </div>
                    <div class="col-4">
                      <label class="fw-bold" id="zonaVentaCliente">Sin Zona de Venta</label>
                    </div>
                    <div class="col-2">
                      <label>Zona de precios:</label>
                    </div>
                    <div class="col-4">
                      <label class="fw-bold" id="zonaPrecioCliente">Sin Zona de Precio</label>
                    </div>
                </div>
                <div class="row align-items-center ft-16 pb-2">
                    <div class="col-2">
                      <label>Notas:</label>
                    </div>
                    <div class="col-4">
                      <label class="fw-bold" id="notasCliente">Sin Notas</label>
                    </div>
                    <div class="col-2">
                      <label>Tipo Cliente:</label>
                    </div>
                    <div class="col-4">
                      <label class="fw-bold" id="tipoCliente">Sin tipo Cliente</label>
                    </div>
                </div>
                <div class="row align-items-center ft-16">
                    <div class="col-2">
                      <label>Tipo servicio:</label>
                    </div>
                    <div class="col-4">
                      <label class="fw-bold" id="tipoServicioCliente">Sin servicio</label>
                    </div>
                    <div class="col-2">
                      <label>Ruta:</label>
                    </div>
                    <div class="col-4">
                      <label class="fw-bold" id="rutaCliente">Sin ruta</label>
                    </div>
                </div>
            </div>
            <div id="historic-data">
                <table class="table-gen table-gen-blue">
                  <thead>
                    <tr>
                      <th style="min-width: 40px; z-index: 1; left: 0;" class="ion-text-center sticky-col">
                        <ion-button fill="clear" style="font-size: 18px; --padding-start: 0; --padding-end: 0; --color: #fff">
                            <i class="fa-solid fa-arrow-rotate-right"></i>
                        </ion-button>
        
                        <div style="position: absolute; right: 0; top: 0; height: 100%; width: 1px; background-color: #000;">
                        </div>
                      </th>
        
                      <th style="min-width: 40px; z-index: 1; left: 40px;" class="ion-text-center sticky-col">
                        <div style="position: absolute; right: 0; top: 0; height: 100%; width: 1px; background-color: #000;">
                        </div>
                      </th>
        
                      <th style="min-width: 40px; z-index: 1; left: 80px;" class="ion-text-center sticky-col">
                        <div style="position: absolute; right: 0; top: 0; height: 100%; width: 1px; background-color: #000;">
                        </div>
                      </th>
        
                      <th style="min-width: 95px" class="ion-text-center">Fecha Solicitud</th>
                      <th style="min-width: 95px" class="ion-text-center">Fecha Comprometida</th>
                      <th style="min-width: 95px" class="ion-text-center">Hora Visita</th>
                      <th style="min-width: 135px" class="ion-text-center">Número de Documento</th>
                      <th style="min-width: 135px" class="ion-text-center">Número de Caso</th>
                      <th style="min-width: 135px" class="ion-text-center">Asunto</th>
                      <th style="min-width: 155px" class="ion-text-center">Nombre del Cliente</th>
                      <th style="min-width: 155px" class="ion-text-center">Telefono</th>
                      <th style="min-width: 135px" class="ion-text-center">Agente Call Center</th>
                      <th style="min-width: 135px" class="ion-text-center">Monitor</th>
                      <th style="min-width: 265px" class="ion-text-center">Estado</th>
                      <th style="min-width: 265px" class="ion-text-center">Prioridad</th>
                      <th style="min-width: 125px" class="ion-text-center">Motivo Cancelación</th>
                      <th style="min-width: 130px" class="ion-text-center">Cierre Previsto</th>
                      <th style="min-width: 150px" class="ion-text-center">Hora Cierre</th>
                      <th style="min-width: 355px" class="ion-text-center">Origen Servicio</th>
                      <th style="min-width: 355px" class="ion-text-center">Tipo Servicio</th>
                      <th style="min-width: 355px" class="ion-text-center">Articulo</th>
                      <th style="min-width: 355px" class="ion-text-center">Fecha Notificacion</th>
                      <th style="min-width: 355px" class="ion-text-center">Tipo Transaccion</th>
                      <th style="min-width: 355px" class="ion-text-center">Nota</th>
                      <th style="min-width: 355px" class="ion-text-center">Tecnico / Conductor Asignado</th>
                      <th style="min-width: 355px" class="ion-text-center">Metodo Pago</th>
                      <th style="min-width: 355px" class="ion-text-center">Nota Rapida</th>
                      <th style="min-width: 355px" class="ion-text-center">Unidad</th>
                    </tr>
                  </thead>
        
                  <tbody style="text-align: center;" *ngIf="!isLoadingPedidos">
                    
                  </tbody>
                </table>
            </div>
        </div>
        <div class="col-6 h-100 p-0">
            <div id="content-forms" class="no-expand" style="position: relative;">
                <div class="btn-expand-down">
                    <div class="p-rel btn">
                        <i class="fa-solid fa-caret-down"></i>
                    </div>
                </div>
                <div class="row content-tabs">
                    <div class="col-auto p-0">
                      <div class="tab active" data-tab="pedidos">Pedidos</div>
                    </div>
          
                    <div class="col-auto p-0">
                      <div class="tab" data-tab="fugas-quejas">Fugas/Quejas</div>
                    </div>
                </div>
                <div id="tab-pedidos" class="p-2 tabs-content">
                    <div class="row pb-2">
                        <div class="col-4">
                            <div class="content-input content-input-primary">
                                <label>Fecha prometida</label>
                                <input id="fechaPrometidaPedido" type="date" class="form-ptg form-ptg-primary">
                            </div>
                        </div>
                        <div class="col-4">
                            <div class="content-input content-input-primary">
                                <label>Desde</label>
                                <input id="desdePededio" type="time" class="form-ptg form-ptg-primary">
                            </div>
                        </div>
                        <div class="col-4">
                            <div class="content-input content-input-primary">
                                <label>Hasta</label>
                                <input id="hastaPedido" type="time" class="form-ptg form-ptg-primary">
                            </div>
                        </div>
                    </div>
                    <div class="row pb-2">
                        <div class="col-2">
                        </div>
                        <div class="col-4">
                            <div class="content-input content-input-primary">
                                <label>Origen</label>
                                <select id="origenPedido" class="form-ptg form-ptg-primary">
                                </select>
                            </div>
                        </div>
                        <div class="col-4">
                            <div class="content-input content-input-primary">
                                <label>Zona de venta</label>
                                <input id="zonaVentaPedido" readonly type="text" class="form-ptg form-ptg-primary">
                            </div>
                        </div>
                    </div>
                    <div class="row pb-2 align-items-center">
                        <div class="col">
                            <label class="color-primary ft-18">Lista de pedido</label>
                        </div>
                        <div class="col-auto">
                            <button id="agregarProducto" type="button" class="btn bg-secondary-cc"><i class="fa-solid fa-plus"></i> Agregar producto</button>
                        </div>
                    </div>
                    <div id="sinProductos" style="position: relative; min-height: 90px;">
                        <div style="text-align: center; position: absolute; top: 0; bottom: 0; right: 0; left: 0; font-size: 15px; margin: auto; height: 25px;">
                          <label class="color-primary">Sin productos en el pedido.</label>
                        </div>
                    </div>
                    <div id="productosCilindroPedido" class="d-none pb-2">
                        <div class="row bg-primary-cc ft-16 pt-3 pb-1">
                            <div class="col">
                                <div class="row">
                                    <div class="col-3">
                                        Producto
                                    </div>
                                    <div class="col-2">
                                        Cantidad
                                    </div>
                                    <div class="col-3">
                                        Capacidad
                                    </div>
                                    <div class="col-2">
                                        Valor
                                    </div>
                                    <div class="col-2">
                                        Envase
                                    </div>
                                </div>
                            </div>
                            <div class="col-auto">
                                <i class="fa-solid fa-ellipsis-vertical ft-24 invisible"></i>
                            </div>
                        </div>
                        <div class="content">
                            
                        </div>
                    </div>
                    <div id="productosEstacionarioPedido" class="d-none pb-2">
                        <div class="row bg-primary-cc ft-16 pt-3 pb-1">
                            <div class="col">
                                <div class="row">
                                    <div class="col-5">
                                        Producto
                                    </div>
                                    <div class="col-3">
                                        Litros
                                    </div>
                                    <div class="col-2">
                                        Monto
                                    </div>
                                    <div class="col-2">
                                        Total
                                    </div>
                                </div>
                            </div>
                            <div class="col-auto">
                                <i class="fa-solid fa-ellipsis-vertical ft-24 invisible"></i>
                            </div>
                        </div>
                        <div class="content">
                            
                        </div>
                    </div>
                    <div class="row pb-2 align-items-center">
                        <div class="col-4">
                            <div class="content-input content-input-primary">
                                <label>Método de pago</label>
                                <select id="metodoPagoPedido" class="form-ptg form-ptg-primary">
                                </select>
                            </div>
                        </div>
                        <div class="col-3">
                            <div class="content-input content-input-primary d-none">
                                <label>Referencia</label>
                                <input id="referenciaPagoPedido" class="form-ptg form-ptg-primary">                            </select>
                            </div>
                        </div>
                        <div class="col-5">
                            <div class="content-input content-input-primary d-none">
                                <label>Folio de autorización</label>
                                <input id="folioAutorizacionPedido" class="form-ptg form-ptg-primary">                            </select>
                            </div>
                        </div>
                    </div>
                    <div class="row pb-2 align-items-center">
                        <div class="col-12">
                            <div class="content-input content-input-primary">
                                <label>Observaciones</label>
                                <textarea placeholder="Observaciones" id="observacionesPagoPedido" rows="3" class="form-ptg form-ptg-primary"></textarea>
                            </div>
                        </div>
                    </div>
                    <div class="row pb-2 align-items-center">
                        <div class="col">
                        </div>
                        <div class="col-auto">
                            <button id="guardarPedido" type="button" class="btn bg-secondary-cc"><i class="fa-solid fa-floppy-disk"></i> Guardar pedido</button>
                        </div>
                    </div>
                </div>
                <div id="tab-fugas-quejas" class="p-2 d-none tabs-content">
                    <div class="row pb-2">
                        <div class="col-4">
                            <div class="content-input content-input-primary">
                                <label>Tipo de caso</label>
                                <select id="tipoCasoFugaQueja" class="form-ptg form-ptg-primary">
                                </select>
                            </div>
                        </div>
                        <div class="col-4">
                            <div class="content-input content-input-primary">
                                <label>Concepto</label>
                                <select id="conceptoFugaQueja" class="form-ptg form-ptg-primary">
                                </select>
                            </div>
                        </div>
                        <div class="col-4">
                            <div class="content-input content-input-primary">
                                <label>Fecha visita</label>
                                <input id="fechaVisitaFugaQueja" type="date" class="form-ptg form-ptg-primary">
                            </div>
                        </div>
                    </div>
                    <div class="row pb-2">
                        <div class="col-4">
                            <div class="content-input content-input-primary">
                                <label>Horario preferido</label>
                                <input id="horarioPreferidoFugaQueja" type="time" class="form-ptg form-ptg-primary">
                            </div>
                        </div>
                        <div class="col-4">
                            <div class="content-input content-input-primary">
                                <label>Artículo</label>
                                <select id="articuloFugaQueja" class="form-ptg form-ptg-primary">
                                </select>
                            </div>
                        </div>
                        <div class="col-4">
                            <div class="content-input content-input-primary">
                                <label>Año</label>
                                <input id="anioFugaQueja" type="number" class="form-ptg form-ptg-primary">
                            </div>
                        </div>
                    </div>
                    <div class="row pb-2">
                        <div class="col-4">
                            <div class="content-input content-input-primary">
                                <label>Email</label>
                                <input id="emailFugaQueja" type="email" class="form-ptg form-ptg-primary">
                            </div>
                        </div>
                        <div class="col-4">
                            <div class="content-input content-input-primary">
                                <label>Teléfono</label>
                                <input id="telefonoFugaQueja" type="text" class="form-ptg form-ptg-primary">
                            </div>
                        </div>
                        <div class="col-4">
                            <div class="content-input content-input-primary">
                                <label>Prioridad</label>
                                <select id="prioridadFugaQueja" class="form-ptg form-ptg-primary">
                                    <option>Alta</option>
                                    <option>Media</option>
                                    <option>Baja</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    <div class="row pb-2">
                        <div class="col-4">
                            <div class="content-input content-input-primary">
                                <label>Asociar permiso</label>
                                <select id="asociarServicioFugaQueja" class="form-ptg form-ptg-primary">
                                </select>
                            </div>
                        </div>
                        <div class="col-8">
                            <div class="content-input content-input-primary">
                                <label>Nota principal</label>
                                <input id="notaPrincipalFugaQueja" type="text" class="form-ptg form-ptg-primary">
                            </div>
                        </div>
                    </div>
                    <div class="row pb-2">
                        <div class="col-4">
                            <div class="row ion-align-items-center">
                                <div class="col">
                                    <div class="content-input content-input-primary">
                                        <label>Notas adicionales</label>
                                    </div>
                                </div>
                                <div class="col-auto">
                                    <i id="notasAdicionalesFugaQueja" style="cursor: pointer;" class="fa-solid fa-plus color-primary"></i>
                                </div>
                            </div>
                            <table id="notasAdicionales" class="table-gen table-gen-blue">
                                <tbody>
                                </tbody>
                            </table>
                        </div>
                        <div class="col-8">
                            <div class="content-input content-input-primary">
                                <label>Descripción del cliente</label>
                                <input id="descripcionClienteFugaQueja" type="text" class="form-ptg form-ptg-primary">
                            </div>
                        </div>
                    </div>
                    <div class="row pb-2 align-items-center">
                        <div class="col">
                        </div>
                        <div class="col-auto">
                            <button id="guardarPedido" type="button" class="btn bg-secondary-cc"><i class="fa-solid fa-floppy-disk"></i> Guardar caso</button>
                        </div>
                    </div>
                </div>
                
            </div>
            <div id="content-avisos">
                <table class="table-gen table-gen-blue">
                    <thead>
                      <tr>
                        <th style="width: 40px; z-index: 1; left: 0;" class="ion-text-center sticky-col">
                          <ion-button fill="clear" style="font-size: 18px; --padding-start: 0; --padding-end: 0; --color: #fff">
                            <i class="fa-solid fa-arrow-rotate-right"></i>
                          </ion-button>
        
                          <div style="position: absolute; right: 0; top: 0; height: 100%; width: 1px; background-color: #000;">
                          </div>
                        </th>
                        <th style="min-width: 135px" class="ion-text-center">Nombre</th>
                        <th style="min-width: 135px" class="ion-text-center">Número Documento</th>
                        <th style="min-width: 135px" class="ion-text-center">Telefono</th>
                        <th style="min-width: 135px" class="ion-text-center">Tipo de Servicio</th>
                      </tr>
                    </thead>
        
                    <tbody>
                    </tbody>
                  </table>
            </div>
        </div>
    </div>
    <!-- END layout-wrapper -->

    <!-- JAVASCRIPT -->
    <script src="https://themesbrand.com/skote/layouts/assets/libs/jquery/jquery.min.js"></script>
    <script src="https://themesbrand.com/skote/layouts/assets/libs/bootstrap/js/bootstrap.bundle.min.js"></script>
    <!-- <script src="assets/libs/simplebar/simplebar.min.js"></script> -->
    <!-- <script src="assets/libs/jquery.easing/jquery.easing.min.js"></script> -->

    <!-- Datatablets -->
    <script src="https://themesbrand.com/skote/layouts/assets/libs/datatables.net/js/jquery.dataTables.min.js"></script>
    <script src="https://themesbrand.com/skote/layouts/assets/libs/datatables.net-bs4/js/dataTables.bootstrap4.min.js"></script>

    <!-- Datepicker -->
    <script src="https://themesbrand.com/skote/layouts/assets/libs/bootstrap-datepicker/js/bootstrap-datepicker.min.js"></script>
    <script src="https://themesbrand.com/skote/layouts/assets/libs/@chenfengyuan/datepicker/datepicker.min.js"></script>

    <!-- Timepicker -->
    <script src="https://themesbrand.com/skote/layouts/assets/libs/bootstrap-timepicker/js/bootstrap-timepicker.min.js"></script>
    
    <!-- Extra -->
    <script src="https://themesbrand.com/skote/layouts/assets/libs/metismenu/metisMenu.min.js"></script>
    <!-- <script src="https://themesbrand.com/skote/layouts/assets/libs/simplebar/simplebar.min.js"></script> -->
    <script src="https://themesbrand.com/skote/layouts/assets/libs/node-waves/waves.min.js"></script>

    <!-- <script src="assets/js/app.js"></script> -->
    <script src="https://themesbrand.com/skote/layouts/assets/js/app.js"></script>
    <!-- Funciones generales -->
    <script type="text/javascript">
        // Código de Conrado y Christian
        let urlPlantas        = '${ds.getPlantas}';
        let urlCrearOp        = '${ds.createOPP}';
        let urlObtenerPedidos = '${ds.getOPP}';

        // Ajax para obtener las plantas
        let dataPlantas = {
            "requestType" : 'getPlantas'
        };

        $.ajax({
            url: urlPlantas,
            method: 'GET',
            data: JSON.stringify(dataPlantas),
            contentType: 'application/json',
            dataType: 'json',
            success: function (data) {
                // console.log('Data: ', data);
                setSelectPlants(JSON.parse(data));

            }, error: function (xhr, status, error) {
                console.log('Error en la consulta');
            }
        });

        // Método para llenar el select de plantas
        function setSelectPlants(items) {
            if ( items.length ) {
                $('select#plantas').children('option').remove();
                for ( var key in items ) {
                    if ( items.hasOwnProperty( key ) ) {
                        $("select#plantas").append(
                            '<option value='+items[key].id+'>'+items[key].nombre+'</option>'
                        );
                    }
                }
            } else {
                console.warn('No hay plantas por cargar');
            }
        }

        // Ajax para crear un pedido
        let pedidoData = {
            "opportunities": [
                {
                    "status": "10",
                    "dateCreate": "10/01/2022",
                    "closeDate": "11/01/2022",
                    "customer": "26163",
                    "operario": "1178",
                    "route": "1",
                    "turn": "1",
                    "paymentMethod": "1",
                    "origen": "1",
                    "typeservice": "1",
                    "comentary": "esto es un comentario",
                    "rangeH1": "12:33",
                    "rangeH2": "13:33",
                    "numero_viaje": "60",
                    "zona_precio": "1",
                    "tipo": "4",
                    "weekDay": [
                        1,
                        3,
                        5
                    ],
                    "items": [
                        {
                            "article": 1754,
                            "quantity": 1,
                            "units": "1",
                            "eliminar": true,
                            "zoneprice": "225",
                            "capacity": "10"
                        }
                    ]
                }
            ]
        }

        // $.ajax({
        //     url: urlCrearOp,
        //     method: 'POST',
        //     data: JSON.stringify(pedidoData),
        //     contentType: 'application/json',
        //     dataType: 'json',
        //     success: function (data) {
        //         console.log('pedido creado exitósamente', data);
        //         // setSelectPlants(JSON.parse(data));

        //     }, error: function (xhr, status, error) {
        //         console.log('Error en la consulta');
        //     }
        // });


        // Función y ajax para obtener los pedidos
        function getCasosOportunidades() {
            let dataObtenerPedido = {
                "id" : $("#idCliente").text()
            };

            $.ajax({
                url: urlObtenerPedidos,
                method: 'POST',
                data: JSON.stringify(dataObtenerPedido),
                contentType: 'application/json',
                dataType: 'json',
                success: function (data) {
                    console.log('pedidos obtenidos exitósamente', data);
                    setHistoricTable('pedidos', data);

                }, error: function (xhr, status, error) {
                    console.log('Error en la consulta', error);
                }
            });
        }

        function setHistoricTable(type = 'pedidos',  data) {
            $('div#historic-data').fadeOut();
            let items = [];

            if( type == 'pedidos' ){
                items = data.oportunidades;
            } else{
                items = data.casos;
            }

            $('div#historic-data table.table-gen tbody').children('tr').remove();

            if ( items.length ) {
                // console.log('Tiene varios registros');
                for ( var key in items ) {
                    if ( items.hasOwnProperty( key ) ) {
                        console.log('entró a hacer un append');
                        $('div#historic-data table.table-gen tbody').append(
                            '<tr>'+
                                '<td>Popover</td>'+
                                '<td>Checkbox</td>'+
                                '<td>Red b</td>'+
                                '<td>'+items[key].fecha+'</td>'+
                                '<td>'+( items[key].fechaNotificacion ?? 'Sin fecha visita' )+'</td>'+
                                '<td>'+( items[key].horaCierre ?? 'Sin hora cierre' )+'</td>'+
                                '<td>'+( items[key].numeroDocumento ?? 'Sin número de documento' )+'</td>'+
                                '<td>'+( items[key].numeroCaso ?? 'Sin número de caso' )+'</td>'+
                                '<td>'+( items[key].asunto ?? 'Sin asunto' )+'</td>'+
                                '<td>'+( items[key].nombreCliente ?? 'Sin nombre de cliente' )+'</td>'+
                                '<td>'+( items[key].telefono ?? 'Sin teléfono' )+'</td>'+
                                '<td>'+( items[key].representanteVentas ?? 'Sin agente' )+'</td>'+
                                '<td>'+( items[key].monitor ?? 'Sin asignado' )+'</td>'+
                                '<td>'+( items[key].estado ?? 'Sin estado' )+'</td>'+
                                '<td>'+( items[key].prioridad ?? 'Sin prioridad' )+'</td>'+
                                '<td>'+( items[key].motivoCancelacion ?? '' )+'</td>'+
                                '<td>'+( items[key].cierrePrevisto ?? 'Sin asignar' )+'</td>'+
                                '<td>'+( items[key].horaCierre ?? 'Sin hora cierre' )+'</td>'+
                                '<td>'+( items[key].origenServicio ? items[key].origenServicio : 'Sin origen servicio' )+'</td>'+
                                '<td>'+( items[key].tipoServicio ?? 'Sin tipo servicio' )+'</td>'+
                                '<td>'+( items[key].articulo ?? 'Sin artículo' )+'</td>'+
                                '<td>'+( items[key].fechaNotificacion ?? 'Sin fecha notificación' )+'</td>'+
                                '<td>'+( items[key].tipoTransaccion ?? 'Sin tipo transacción' )+'</td>'+
                                '<td>'+( items[key].nota ?? 'Sin nota' )+'</td>'+
                                '<td>'+( items[key].conductorAsignado ?? 'Sin conductor asignado' )+'</td>'+
                                '<td>'+( items[key].metodoPago ?? 'Sin método de pago' )+'</td>'+
                                '<td>'+( items[key].notaRapida ?? 'Sin nota rápida' )+'</td>'+
                                '<td>'+( items[key].unidad ?? 'Sin unidad' )+'</td>'+
                            '</tr>'
                        );
                    }
                }
            } else {
                console.warn('No hay plantas por cargar');
            }

            // Vuelve a mostrar la tabla
            $('div#historic-data').fadeIn('slow');
        }

        
        // Fin de código de Conrado y Christian

        function initComponents() {
            /* Inicia todos los form-search */
            $(".form-search .fa-magnifying-glass").click(function() {
                $(this).parent().find("input").focus();
            });
            $(".form-search input").keyup(function() {
                if($(this).val()) {
                    $(this).parent().find(".fa-xmark").removeClass('d-none');
                } else {
                    $(this).parent().find(".fa-xmark").addClass('d-none');
                }
            });
            $(".form-search .fa-xmark").click(function() {
                $(this).addClass('d-none');
                $(this).parent().find("input").val('');
            });

            $("#metodoPagoPedido").change(function (){
                if($(this).val() == "Transferencia" || $(this).val() == "Prepago") {
                    $("#referenciaPagoPedido").parent().removeClass("d-none");
                    $("#folioAutorizacionPedido").parent().removeClass("d-none");
                } else {
                    $("#referenciaPagoPedido").parent().addClass("d-none");
                    $("#folioAutorizacionPedido").parent().addClass("d-none");
                }
            });

            $("#agregarProducto").click(function() {
                $("#envaseFormProductos").prop("checked", false);
                $("#capacidadFormProductos").val("");
                $("#cantidadFormProductos").val("0");
                $("#valorFormProductos").val("0");
                $("#totalFormProductos").val("0");
                $("#litrosFormProductos").val("0");
                $("#montoFormProductos").val("0");
                if(!$("#sinProductos").hasClass("d-none")) {
                    $("#productoFormProductos").prop("disabled", false);
                    $("#productoFormProductos").val("cilindro");
                } else {
                    $("#productoFormProductos").prop("disabled", true);
                    if(!$("#productosCilindroPedido").hasClass("d-none")) {
                        $("#productoFormProductos").val("cilindro");
                    } else {
                        $("#productoFormProductos").val("estacionario");
                    }
                }
                $("#titleProductoModal").html("Agregar producto");
                $('#formProductosModal').modal('show');
            });

            $("#productoFormProductos").change(function () {
                if($(this).val() == "cilindro") {
                    $(".cilindroFormProductos").removeClass("d-none");
                    $(".estacionarioFormProductos").addClass("d-none");
                } else {
                    $(".estacionarioFormProductos").removeClass("d-none");
                    $(".cilindroFormProductos").addClass("d-none");
                }
            });

            $(".content-tabs .tab").click(function() {
                $(".tab").removeClass('active');
                $(".tabs-content").addClass("d-none");
                $(this).addClass('active');
                $("#tab-"+$(this).data("tab")).removeClass("d-none");
            });

            $("#agregarDireccion").click(function() {
                $("#formDireccionesModal").modal("show")
            });

            $(".btn-expand").click(function() {
                if($(this).find("i").hasClass('fa-caret-right')) {
                    $(this).find(".btn").html('<i class="fa-solid fa-caret-left"></i>');
                    $("#content-forms").parent().addClass("d-none");
                    $(this).parent().removeClass("col-6").addClass("col-12");
                } else {
                    $(this).find(".btn").html('<i class="fa-solid fa-caret-right"></i>');
                    $("#content-forms").parent().removeClass("d-none");
                    $(this).parent().removeClass("col-12").addClass("col-6");
                }
            });
            $(".btn-expand-down").click(function() {
                if($(this).find("i").hasClass('fa-caret-down')) {
                    $(this).find(".btn").html('<i class="fa-solid fa-caret-up"></i>');
                    $("#content-avisos").addClass("d-none");
                    $("#content-forms").removeClass("no-expand");
                } else {
                    $(this).find(".btn").html('<i class="fa-solid fa-caret-down"></i>');
                    $("#content-avisos").removeClass("d-none");
                    $("#content-forms").addClass("no-expand");
                }
            });

            $("#notasAdicionalesFugaQueja").click(function() {
                $("#formNotasAdicionalesModal").modal("show");
                $("#notaAdicional").val("");
            });

            $("#guardarNotaAdicional").click(function() {
                if($("#notaAdicional").val().trim()) {
                    $("#notasAdicionales tbody").append(
                        '<tr class="notasAdicionalesItem">'+
                            '<td class="p-2">'+
                                $("#notaAdicional").val().trim()+
                            '</td>'+
                            '<td width="50" style="text-align: center;">'+
                                '<i class="fa-solid fa-trash-can" style="cursor: pointer;" onclick="deleteNota(this)"></i>'+
                            '</td>'+
                        '</td>'
                    );
                    $("#formNotasAdicionalesModal").modal("hide");
                } else {
                    alert("Llena la nota.");
                }
                
            });

            $("#guardarProductosForm").click(function() {
                if($("#productoFormProductos").val() == "cilindro") {
                    let dataItem = {
                        producto: $("#productoFormProductos").val() == 'cilindro' ? 'Cilindro': 'Estacionario',
                        cantidad: $("#cantidadFormProductos").val(),
                        capacidad: $("#capacidadFormProductos").val(),
                        valor: $("#valorFormProductos").val(),
                        envase: $("#envaseFormProductos").prop('checked'),
                    }
                    $("#sinProductos").addClass("d-none");
                    $("#productosCilindroPedido").removeClass("d-none");
                    $("#productosCilindroPedido").find(".content").append(
                        '<div class="row color-primary align-items-center ft-16 pt-3 pb-1 product-item" data-item='+"'"+JSON.stringify(dataItem)+"'"+'>'+
                            '<div class="col">'+
                                '<div class="row">'+
                                    '<div class="col-3">'+
                                        dataItem.producto+
                                    '</div>'+
                                    '<div class="col-2">'+
                                        dataItem.cantidad+
                                    '</div>'+
                                    '<div class="col-3">'+
                                        dataItem.capacidad+
                                    '</div>'+
                                    '<div class="col-2">'+
                                        dataItem.valor+
                                    '</div>'+
                                    '<div class="col-2">'+
                                        (dataItem.envase ? 'Si' : 'No')+
                                    '</div>'+
                                '</div>'+
                            '</div>'+
                            '<div class="col-auto">'+
                                '<i class="fa-solid fa-ellipsis-vertical ft-24" style="cursor: pointer;"></i>'+
                            '</div>'+
                        '</div>');
                    $('#formProductosModal').modal('hide');
                } else {
                    let dataItem = {
                        producto: $("#productoFormProductos").val() == 'cilindro' ? 'Cilindro': 'Estacionario',
                        litros: $("#litrosFormProductos").val(),
                        monto: $("#montoFormProductos").val(),
                        total: $("#totalFormProductos").val()
                    }
                    $("#sinProductos").addClass("d-none");
                    $("#productosEstacionarioPedido").removeClass("d-none");
                    $("#productosEstacionarioPedido").find(".content").append(
                        '<div class="row color-primary align-items-center ft-16 pt-3 pb-1 product-item" data-item='+"'"+JSON.stringify(dataItem)+"'"+'>'+
                            '<div class="col">'+
                                '<div class="row">'+
                                    '<div class="col-5">'+
                                        dataItem.producto+
                                    '</div>'+
                                    '<div class="col-3">'+
                                        dataItem.litros+
                                    '</div>'+
                                    '<div class="col-2">'+
                                        dataItem.monto+
                                    '</div>'+
                                    '<div class="col-2">'+
                                        dataItem.total+
                                    '</div>'+
                                '</div>'+
                            '</div>'+
                            '<div class="col-auto">'+
                                '<i class="fa-solid fa-ellipsis-vertical ft-24" style="cursor: pointer;"></i>'+
                            '</div>'+
                        '</div>');
                    $('#formProductosModal').modal('hide');
                }
            });
        }

        function deleteNota(item){
            $(item).parent().parent().remove();
        }

        function dateFormatFromDate(date, format = "1") {
            if (typeof date == "string") {
                let aux = date;
                date = new Date(parseInt(aux.split("-")[0]), parseInt(aux.split("-")[1]) - 1, parseInt(aux.split("-")[2]));
            }

            let day = date.getDate();
            let month = date.getMonth();
            let year = date.getFullYear();
            let fecha = "";
            let months = ["Enero", "Febrero", "Marzo", "Abrrl", "Mayo", "Junio", "Julio", "Agosto", "Septiembre", "Octubre", "Noviembre", "Diciembre"];
            if (format == "1") {
            fecha = day + " de " + months[month] + " - " + timeFormatFromDate(date);
            } else if (format == "2") {
            if (day < 10) {
                day = "0" + day;
            }
            month = month + 1;
            if (month < 10) {
                month = "0" + month;
            }
            fecha = year + "-" + month + "-" + day;
            } else if (format == "3") {
            fecha = day + "/" + month + "/" + year + " " + timeFormatFromDate(date);
            } else if (format == "4") {
            if (day < 10) {
                day = "0" + day;
            }
            month = month + 1;
            if (month < 10) {
                month = "0" + month;
            }
            fecha = year + "-" + month + "-" + day + "T" + timeFormatFromDate(date, "2");
            } else if (format == "5") {
            if (day < 10) {
                day = "0" + day;
            }
            month = month + 1;
            if (month < 10) {
                month = "0" + month;
            }
            fecha = day + "/" + month + "/" + year;
            } else if (format == "6") {
            if (day < 10) {
                day = "0" + day;
            }
            month = month + 1;
            if (month < 10) {
                month = "0" + month;
            }
            fecha = day + "-" + month + "-" + year;
            } else if (format == "7") {
            if (day < 10) {
                day = "0" + day;
            }
            month = month + 1;
            if (month < 10) {
                month = "0" + month;
            }
            fecha = day + "/" + month + "/" + year + " " + timeFormatFromDate(date);;
            }

            return fecha;
        }
        
        function timeFormatFromDate(date, format = "1") {
            date = new Date(date);
            let hours = date.getHours();
            let minutes = date.getMinutes();
            let seconds = date.getSeconds();
            let period = hours < 12 ? 'a.m.' : 'p.m.';
            if (minutes < 10) {
            minutes = "0" + minutes;
            }
            if (seconds < 10) {
            seconds = "0" + seconds;
            }
            let hora = "";
            if (format == "1") {
            hours = (hours + 24) % 12 || 12;
            if (hours < 10) {
                hours = "0" + hours;
            }

            hora = hours + ":" + minutes + " " + period;
            } else if (format == "2") {
            if (hours < 10) {
                hours = "0" + hours;
            }

            hora = hours + ":" + minutes;
            } else if (format == "3") {
            if (hours < 10) {
                hours = "0" + hours;
            }

            hora = hours + ":" + minutes + ":" + seconds;
            }
            return hora;
        }
    </script>

    <script type="text/javascript">
        let origins = ["WhatsApp", "PotoApp", "FaceBook", "Call center", "Página Web", "Chat", "Buzón"],
            payment_methods = ["Efectivo", "Vale", "Prepago", "Cortesia", "Tarjeta de crédito", "Tarjeta de débito"];
        $( document ).ready(function() {
            initComponents();
            getToday();
            llenaCampos();
        });

        function llenaCampos() {
            origins.forEach((element, i) => {
                $("#origenPedido").append('<option value="'+element+'">'+element+'</option>');
            });
            payment_methods.forEach((element, i) => {
                $("#metodoPagoPedido").append('<option value="'+element+'">'+element+'</option>');
            });
        }

        function getToday() {
            let $this = this;
            $("#today").html(dateFormatFromDate(new Date(), "7"));
            setTimeout(function() {
                $this.getToday();
            }, 1000); 
        }
    </script>
</body>

</html>